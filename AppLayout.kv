#:import images_path kivymd.images_path
<TooltipIconLeftWidget@IconLeftWidget+MDTooltip>

<ImportData>
    size_hint: (0.9, None)
    height: dp(300)
    
    MDBoxLayout:
        orientation: "vertical"

        MDDropDownItem:
            size_hint: (0.7, 0.4)
            id: chemDataDropDown
            text: "Please select a dataset"
            on_release: root.showDatasetMenu(self)

        MDBoxLayout:
            orientation: "horizontal"
            size_hint: (0.7, 0.4)

            MDTextField:
                id: startCell
                on_text: root.validate(self, self.id)
                text_hint: "Please input the range's starting cell (In Excel Format ie: A, AA, BA)" 

            
            MDTextField:
                id: endCell
                on_text: root.validate(self, self.id)
                text_hint: "Please input the range's ending cell (In Excel Format ie: A, AA, BA)"

        MDDropDownItem:
            size_hint: (0.7, 0.4)
            id: dropDown
            on_release: root.showSubUnitMenu(self)
    

<DataTableDisplay>
    size_hint: (0.9, None)
    height: dp(500)

<SubunitDialog>
    orientation: 'vertical'
    spacing: dp(12)
    size_hint_y: None
    height: dp(120)

    MDTextField:
        id: subUnitName
        text_hint: 'New SubUnit Name'
        on_text: root.verify(self.text, subUnitRatio.text)

    MDTextField:
        id: subUnitRatio
        text_hint: "Subunit Ratio to Standard"
        on_text: root.verify(subUnitName.text, self.text)

<PreferencesLine>
    on_release: root.dialog.content_cls.selectUnit(root.unit)

<PreferencesMenu>
    orientation: 'vertical'
    size_hint: (0.5, None)
    height: dp(300)
    
    MDBoxLayout:
        orientation: 'horizontal'
        
        MDBoxLayout:
            orientation: 'vertical'
        
            MDToolbar:
                title: "Units"
                md_bg_color: self.theme_cls.accent_dark
                type: "top"
                anchor_title: "center"
                size_hint_y: None
                height: dp(40)

            RecycleView:
                id: units
                key_viewclass: 'viewclass'
                key_size: 'height'

                RecycleBoxLayout:
                    padding: dp(10)
                    default_size: None, dp(48)
                    default_size_hint: 1, None
                    size_hint_y: None
                    height: self.minimum_height
                    orientation: 'vertical'
            
            
        MDBoxLayout:
            orientation: 'vertical'
            
            
            MDToolbar:
                title: "Subunits"
                id: overHeadBar
                md_bg_color: self.theme_cls.accent_color
                type: "top"
                anchor_title: "center"
                size_hint_y: None
                height: dp(40)
                left_action_items: [["plus-thick", root.addSubUnit()]]
            
            MDLabel:
                id: standardLabel
                text: 'Standard:' 
                size_hint_y: 0.1
                
            RecycleView:
                id: subUnits
                key_viewclass: 'viewclass'
                key_size: 'height'

                RecycleBoxLayout:
                    padding: dp(10)
                    default_size: None, dp(48)
                    default_size_hint: 1, None
                    size_hint_y: None
                    height: self.minimum_height
                    orientation: 'vertical'
            
        
<DatasetAddDialog>
    orientation: 'vertical'
    size_hint_y: None
    height: dp(180)
    
    MDBoxLayout:
        spacing: dp(5)
        orientation: "vertical"

        MDTextField:
            id: datasetName
            hint_text: "Name of the dataset"
            on_text: root.validate()
            
        MDDropDownItem:
            id: measurementUnit
            size_hint_y: None
            height: dp(120)
            text: "Measurement Unit"
            on_release: root.buttonPress(self, "measurementUnit")

        MDDropDownItem:
            id: measurementStandard
            size_hint_y: None
            height: dp(120)
            text: "Measurement Standard"
            on_release: root.buttonPress(self, "measurementStandard")
                
    
    
<ImportExcelFile>
    orientation: "horizontal"
    on_release: root.setStatus(check)
    
    CheckboxLeftWidget:
        id: check
        group: "check"
        textbox: sheetName
        on_release: root.checkValidity(check)
    
    MDTextField:
        id: sheetName
        hint_text: "Sheet Name"
        size_hint_x: None
        width: root.width/3
        pos_hint: {'right': 1}
        pos: root.pos
        on_text: root.checkValidity(check)

<ImportFile>
    orientation: "vertical"
    spacing: "12dp"
    size_hint_y: None
    height: "120dp"
    
    MDLabel:
        id: fileLabel
        text: 'Importing file'

    MDTextField:
        id: dialogTextBox
        hint_text: "File Name (No special characters, only numbers and letters)"
        on_text: root.checkValidity(self.text)


<OptionRow>
    IconLeftWidget:
        icon: root.icon
        
<DatasetData>
    TooltipIconLeftWidget:
        icon: root.icon
        pos_hint: {"center_x": .5, "center_y": .5}

<FileRow>
    on_release: self.createDropDown()
    TooltipIconLeftWidget:
        icon: root.icon
        tooltip_text: root.originalPath
        pos_hint: {"center_x": .5, "center_y": .5}

<FileList>

    MDBoxLayout:
        orientation: 'vertical'

        MDToolbar:
            title: "Chemistry App"
            left_action_items: [["menu", lambda x: app.loadMenu(x)]]

        MDBoxLayout:
            orientation: 'horizontal'

            MDBoxLayout:
                orientation: 'vertical'
                size_hint_x: None
                width: root.width/3
                
                MDToolbar:
                    title: "Loaded Files"
                    md_bg_color: self.theme_cls.accent_dark
                    on_action_button: lambda x: root.loadFile()
                    type: "top"
                    type_height: "small"
                    mode: "free-center"
                    round: dp(80)
                    anchor_title: "center"
                    font_size: 16
                    left_action_items: [["plus-thick", lambda x: root.loadFile(), "Load a new file"]]

                RecycleView:
                    id: rv
                    key_viewclass: 'viewclass'
                    key_size: 'height'

                    RecycleBoxLayout:
                        padding: dp(10)
                        default_size: None, dp(48)
                        default_size_hint: 1, None
                        size_hint_y: None
                        height: self.minimum_height
                        orientation: 'vertical'
            
            MDBoxLayout:
                orientation: 'vertical'

                MDToolbar:
                    title: "Data"
                    md_bg_color: self.theme_cls.accent_color
                    type: "top"
                    anchor_title: "center"
                    left_action_items: [["plus-thick", lambda x: root.showDatasetDialog(), "Add Dataset Species"]]
                
                RecycleView:
                    id: datasetList
                    key_viewclass: 'viewclass'
                    key_size: 'height'

                    RecycleBoxLayout:
                        padding: dp(10)
                        default_size: None, dp(48)
                        default_size_hint: 1, None
                        size_hint_y: None
                        height: self.minimum_height
                        orientation: 'vertical'
                