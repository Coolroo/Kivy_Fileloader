#:import images_path kivymd.images_path
<TooltipIconLeftWidget@IconLeftWidget+MDTooltip>

<ImportDatasetData>
    orientation: "vertical"
    size_hint_y: None
    height: dp(400)

    MDBoxLayout:
        orientation: "vertical"
        spacing: dp(5)

        MDBoxLayout:
            orientation: "horizontal"
            pos_hint: {"center_x": 0.5}

            MDBoxLayout:
                orientation: "vertical"

                MDLabel:
                    text: "Dataset"
                    halign: "center"
                    pos_hint: {"center_x": 0.5}

                MDDropDownItem:
                    pos_hint: {"center_x": 0.5}
                    id: dataSet
                    text: "Please select the DataSet"
                    on_release: root.showDataSetMenu(self)

            MDBoxLayout:
                orientation: "vertical"

                MDLabel:
                    text: "DataGroup"
                    halign: "center"
                    pos_hint: {"center_x": 0.5}

                MDDropDownItem:
                    pos_hint: {"center_x": 0.5}
                    id: dataGroup
                    text: "Please select the DataGroup"
                    on_release: root.showDataGroupMenu(self)

        MDLabel:
            text: "Unit"
            halign: "center"
            pos_hint: {"center_x": 0.5}

        MDDropDownItem:
            pos_hint: {"center_x": 0.5}
            id: subUnit
            text: "Please select the data's unit"
            on_release: root.showUnitMenu(self)

        MDTextField:
            pos_hint: {"center_x": 0.5}
            size_hint_x: 0.3
            id: numRows
            hint_text: "Number of data points"
            on_text: root.validate()

        MDTextField:
            pos_hint: {"center_x": 0.5}
            size_hint_x: 0.3
            id: invalidID
            hint_text: "Invalid value"
            on_text: root.validate()

    
        MDBoxLayout:
            orientation: "horizontal"

            MDBoxLayout:
                orientation: "vertical"

                MDTextField:
                    size_hint_x: 0.3
                    id: columnDates
                    hint_text: "Starting column (DATES)"
                    on_text: root.validate()

                MDTextField: 
                    size_hint_x: 0.3
                    id: startRowDates
                    hint_text: "Starting row (DATES)"
                    on_text: root.validate()
                
                    
            MDBoxLayout:
                orientation: "vertical"

                MDTextField:
                    size_hint_x: 0.3
                    id: columnData
                    hint_text: "Date column (DATA)"
                    on_text: root.validate()

                MDTextField: 
                    size_hint_x: 0.3
                    id: startRowData
                    hint_text: "Starting row (DATA)"
                    on_text: root.validate()
                
<AddDataGroup>
    orientation: "vertical"
    size_hint_y: None
    height: dp(200)

    MDTextField:
        id: name
        hint_text: "Datagroup Name"
        on_text: root.validate()
        size_hint_x: 0.5
        pos_hint: {"center_x": 0.5}

    MDDropDownItem:
        id: unit
        text: "Datagroup's Unit"
        on_release: root.showUnitMenu(self)
        pos_hint: {"center_x": 0.5}

<DataTableDisplay>
    size_hint: (0.9, None)
    height: dp(500)

<SubunitDialog>
    orientation: 'vertical'
    spacing: dp(12)
    size_hint_y: None
    height: dp(120)

    MDTextField:
        id: subUnitName
        hint_text: 'New SubUnit Name'
        on_text: root.verify(self.text, subUnitRatio.text)

    MDTextField:
        id: subUnitRatio
        hint_text: "Subunit Ratio to Standard"
        on_text: root.verify(subUnitName.text, self.text)

<PreferencesLine>
    on_release: root.dialog.content_cls.selectUnit(root.unit)

<PreferencesMenu>
    orientation: 'vertical'
    size_hint: (0.5, None)
    height: dp(300)
    
    MDBoxLayout:
        orientation: 'horizontal'
        
        MDBoxLayout:
            orientation: 'vertical'
        
            MDToolbar:
                title: "Units"
                md_bg_color: self.theme_cls.accent_dark
                type: "top"
                anchor_title: "center"
                size_hint_y: None
                height: dp(40)

            RecycleView:
                id: units
                key_viewclass: 'viewclass'
                key_size: 'height'

                RecycleBoxLayout:
                    padding: dp(10)
                    default_size: None, dp(48)
                    default_size_hint: 1, None
                    size_hint_y: None
                    height: self.minimum_height
                    orientation: 'vertical'
            
            
        MDBoxLayout:
            orientation: 'vertical'
            
            
            MDToolbar:
                title: "Subunits"
                id: overHeadBar
                md_bg_color: self.theme_cls.accent_color
                type: "top"
                anchor_title: "center"
                size_hint_y: None
                height: dp(40)
                left_action_items: [["plus-thick", root.addSubUnit()]]
            
            MDLabel:
                id: standardLabel
                text: 'Standard:' 
                size_hint_y: 0.1
                
            RecycleView:
                id: subUnits
                key_viewclass: 'viewclass'
                key_size: 'height'

                RecycleBoxLayout:
                    padding: dp(10)
                    default_size: None, dp(48)
                    default_size_hint: 1, None
                    size_hint_y: None
                    height: self.minimum_height
                    orientation: 'vertical'
            
        
<DatasetAddDialog>
    orientation: 'vertical'
    size_hint_y: None
    height: dp(100)
    
    MDBoxLayout:
        spacing: dp(5)
        orientation: "vertical"

        MDTextField:
            id: datasetName
            hint_text: "Name of the dataset"
            on_text: root.validate()
                
    
    
<ImportExcelFile>
    orientation: "horizontal"
    on_release: root.setStatus(check)
    
    CheckboxLeftWidget:
        id: check
        group: "check"
        textbox: sheetName
        on_release: root.checkValidity(check)
    
    MDTextField:
        id: sheetName
        hint_text: "Sheet Name"
        size_hint_x: None
        width: root.width/3
        pos_hint: {'right': 1}
        pos: root.pos
        on_text: root.checkValidity(check)

<ImportFile>
    orientation: "vertical"
    spacing: "12dp"
    size_hint_y: None
    height: "120dp"
    
    MDLabel:
        id: fileLabel
        text: 'Importing file'

    MDTextField:
        id: dialogTextBox
        hint_text: "File Name (No special characters, only numbers and letters)"
        on_text: root.checkValidity(self.text)


<OptionRow>
    IconLeftWidget:
        icon: root.icon
        
<DatasetData>
    on_release: self.showMenu()
    TooltipIconLeftWidget:
        icon: root.icon
        pos_hint: {"center_x": .5, "center_y": .5}

<FileRow>
    on_release: self.createDropDown()
    TooltipIconLeftWidget:
        icon: root.icon
        tooltip_text: root.originalPath
        pos_hint: {"center_x": .5, "center_y": .5}

<FileList>

    MDBoxLayout:
        orientation: 'vertical'

        MDToolbar:
            title: "Chemistry App"
            left_action_items: [["menu", lambda x: app.loadMenu(x)]]

        MDBoxLayout:
            orientation: 'horizontal'

            MDBoxLayout:
                orientation: 'vertical'
                size_hint_x: None
                width: root.width/3
                
                MDToolbar:
                    title: "Loaded Files"
                    md_bg_color: self.theme_cls.accent_dark
                    on_action_button: lambda x: root.loadFile()
                    type: "top"
                    type_height: "small"
                    mode: "free-center"
                    round: dp(80)
                    anchor_title: "center"
                    font_size: 16
                    left_action_items: [["plus-thick", lambda x: root.loadFile(), "Load a new file"]]

                RecycleView:
                    id: rv
                    key_viewclass: 'viewclass'
                    key_size: 'height'

                    RecycleBoxLayout:
                        padding: dp(10)
                        default_size: None, dp(48)
                        default_size_hint: 1, None
                        size_hint_y: None
                        height: self.minimum_height
                        orientation: 'vertical'
            
            MDBoxLayout:
                orientation: 'vertical'

                MDToolbar:
                    title: "Data"
                    md_bg_color: self.theme_cls.accent_color
                    type: "top"
                    anchor_title: "center"
                    left_action_items: [["plus-thick", lambda x: root.showDatasetDialog(), "Add Dataset Species"]]
                
                RecycleView:
                    id: datasetList
                    key_viewclass: 'viewclass'
                    key_size: 'height'

                    RecycleBoxLayout:
                        padding: dp(10)
                        default_size: None, dp(48)
                        default_size_hint: 1, None
                        size_hint_y: None
                        height: self.minimum_height
                        orientation: 'vertical'
                